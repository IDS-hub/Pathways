
<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Adding controls to the map</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
    <script>

	//var searchCircle;
	var marker;
	var path=[];
	 var index = 0;
	 //var LatLngArr=[];
	function initialize(){
	        var myLatlng = new google.maps.LatLng(22.5667, 88.3667);
	        var myOptions = {
	           center: myLatlng,
	           zoom: 7,
	           mapTypeId : google.maps.MapTypeId.ROADMAP
	        };
	        var map = new google.maps.Map(document.getElementById('map-canvas'),myOptions);
	        var polyOptions = {
			    strokeColor: '#000099',
			    strokeOpacity: 1.0,
			    strokeWeight: 3
			  };
			 polyDraw = new google.maps.Polyline(polyOptions);
			  
			  polyDraw .setMap(map);
	        	google.maps.event.addListener(map, "click", function (loc) {
	        		index++;
	        		var curLatLng=loc.latLng;
					//alert(curLatLng.lat()+'---'+curLatLng.lng());
	        		marker=new google.maps.Marker({
			         	 position: curLatLng,
					     map: map,
					       //title:loc.address
			        });
			        
	        		if(index>1){
	        			path=polyDraw .getPath();
	        			
	        			path.push(curLatLng);
	        			//path.push(loc.latLng);
	        			//alert(loc.latLng.lat()+"****"+loc.latLng.lng());
			        	
	        		}
	        	
	         	 google.maps.event.addListener(marker, 'click', function(key,value) {
	         	 	var polygonDraw = new google.maps.Polygon({
						    paths: path,
						    strokeColor: '#FF0000',
						    strokeOpacity: 0.8,
						    strokeWeight: 2,
						    fillColor: '#FF0000',
						    fillOpacity: 0.35
						 });
		        	polygonDraw.setMap(map);
						
           
				});
	          });  //for loop
	   }//path.length!=0
			
			
	         
	         /*	if(path.length != 0){
	         		//alert(path.length);
	        	for(var i=0;i<path.length;i++){*/
	        		
		        
	        		
	        		
	        		
	        		
	        		
	        		
					/*if(path[i]!= path[i+1]){
						var polygonDraw = new google.maps.Polygon({
						    paths: path,
						    strokeColor: '#FF0000',
						    strokeOpacity: 0.8,
						    strokeWeight: 2,
						    fillColor: '#FF0000',
						    fillOpacity: 0.35
						 });
		        	polygonDraw.setMap(map);
						
						
						  
					}else{
						 //alert("Possible");
						var polyOptions = {
						    strokeColor: '#000099',
						    strokeOpacity: 1.0,
						    strokeWeight: 3
						  };
						polyDraw = new google.maps.Polyline(polyOptions);
						polyDraw .setMap(map);
		        	path=polyDraw .getPath();
		        	}*/
				 
		  
  google.maps.event.addDomListener(window, 'load', initialize);
         
	</script>
	
  </head>
  <body>
    <div id="map-canvas">
    	
    </div>
  </body>
</html>
